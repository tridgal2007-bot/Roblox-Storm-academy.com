/* Custom scrollbar for webkit */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: var(--scroll-track);
  border-left: 1px solid #333;
}
::-webkit-scrollbar-thumb {
  background: var(--scroll-thumb);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #fff;
}

:root {
  --scroll-track: #0f172a;
  --scroll-thumb: #fcd34d;
  --bg-color: #0f172a;
  --text-main: #fff;
  --accent: #fcd34d;
}

/* Global Reset for Focus/Tap Highlights (Remove "Blue Dash") */
* {
    -webkit-tap-highlight-color: transparent;
}
*:focus {
    outline: none !important;
}

/* Transitions for Theme Switch */
body, nav, .mha-panel, .btn-hero, .comic-box {
    transition: all 1.5s ease-in-out;
}

/* Moon Style */
.moon {
    position: fixed;
    top: 60px;
    right: 40px;
    width: 80px;
    height: 80px;
    background: radial-gradient(circle at 30% 30%, #fff, #e2e8f0);
    border-radius: 50%;
    box-shadow: 0 0 20px #fff, 0 0 60px #fcd34d;
    z-index: 0;
    pointer-events: none;
    opacity: 0.9;
    transition: box-shadow 1.5s;
}

/* Comic / MHA Pattern Styles */
.comic-dots {
    background-image: radial-gradient(#334155 1px, transparent 1px);
    background-size: 20px 20px;
    opacity: 0.1;
}

.comic-halftone {
    background-image: radial-gradient(circle, #fcd34d 1px, transparent 1.5px);
    background-size: 8px 8px;
}

/* MHA Specific Borders & Shadows */
.mha-panel {
    background-color: #0f172a;
    border: 3px solid #000;
    position: relative;
    box-shadow: 6px 6px 0px rgba(0,0,0,1);
    transition: background-color 0.3s, border-color 1.5s, box-shadow 1.5s;
}

/* Text Strokes */
.text-stroke-black {
    -webkit-text-stroke: 1.5px black;
    text-stroke: 1.5px black;
}

/* VFX Canvas Positioning */
canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

#rain-canvas {
    z-index: 1;
    opacity: 0.4;
    transition: opacity 1s;
}

#lightning-canvas {
    z-index: 2;
    opacity: 0.7;
}

#lightning-flash-overlay {
    position: fixed;
    inset: 0;
    background: white;
    opacity: 0;
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: overlay;
    transition: opacity 0.1s;
}

.animate-eternal-zap {
    animation: zap 2s infinite;
}

@keyframes zap {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.1); }
    52% { opacity: 1; transform: scale(1.2) rotate(5deg); }
    54% { opacity: 1; transform: scale(1); }
}

/* Fog Animation */
.fog-anim {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 300px;
    background: linear-gradient(to top, rgba(15, 23, 42, 1) 0%, rgba(15, 23, 42, 0) 100%);
    z-index: 5;
    pointer-events: none;
    opacity: 0.8;
}

/* Diagonal Stripes Background for Cards */
.stripes {
    background: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(0, 0, 0, 0.1) 10px,
      rgba(0, 0, 0, 0.1) 20px
    );
}

/* -----------------------------------------------------------
   WINTER / CHRISTMAS THEME OVERRIDES
----------------------------------------------------------- */
body.theme-winter {
    background-color: #1e293b; /* Slightly lighter/colder blue */
}

/* Frosty Moon */
body.theme-winter .moon {
    box-shadow: 0 0 20px #fff, 0 0 80px #a5f3fc; /* Cyan glow */
    filter: drop-shadow(0 0 10px #fff);
}

/* Snow-capped UI Elements */
/* Apply "Snow" on top of Nav, Panels, Buttons */
body.theme-winter nav {
    border-bottom-color: #bae6fd;
    background: linear-gradient(to bottom, rgba(255,255,255,0.1), rgba(15,23,42,0.9));
}

body.theme-winter .mha-panel,
body.theme-winter .bg-black,
body.theme-winter .btn-hero,
body.theme-winter .comic-box {
    border-color: #bae6fd !important; /* Ice Blue Borders */
    box-shadow: 0 0 10px #bae6fd, 4px 4px 0 #000;
    position: relative;
}

/* The Snow Pile Effect on Top of elements */
body.theme-winter nav::after,
body.theme-winter .mha-panel::after,
body.theme-winter .btn-hero::after,
body.theme-winter .comic-box::after {
    content: '';
    position: absolute;
    top: -4px;
    left: -2px;
    right: -2px;
    height: 8px;
    background: white;
    border-radius: 6px;
    box-shadow: 0 0 5px white;
    z-index: 100;
    pointer-events: none;
    opacity: 1;
    animation: snow-pile 1s ease-out forwards;
}

/* Text changes for Winter */
body.theme-winter .text-storm-accent {
    color: #bae6fd !important; /* Change yellow accent to ice blue */
    text-shadow: 0 0 5px #fff;
}
body.theme-winter .bg-storm-accent {
    background-color: #bae6fd !important;
}

/* Disable lightning flash in winter */
body.theme-winter #lightning-flash-overlay {
    display: none;
}

@keyframes snow-pile {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

/* -----------------------------------------------------------
   IMAGE CONTAINER VFX (Background of Image)
----------------------------------------------------------- */

/* One For All */
.vfx-ofa {
    background: radial-gradient(circle at center, rgba(34, 197, 94, 0.2) 0%, rgba(0,0,0,0.8) 80%);
    box-shadow: inset 0 0 50px #22c55e;
}
.vfx-ofa::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(34, 197, 94, 0.2) 10px, rgba(34, 197, 94, 0.2) 20px);
    opacity: 0.5;
}

/* Fire/Ice */
.vfx-todoroki {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.3) 0%, black 50%, rgba(59, 130, 246, 0.3) 100%);
}

/* Explosion */
.vfx-bakugo {
    background: radial-gradient(circle, rgba(249, 115, 22, 0.3) 0%, black 70%);
    animation: bg-pulse-orange 1s infinite alternate;
}

/* Dark Shadow */
.vfx-tokoyami {
    background: radial-gradient(circle, rgba(147, 51, 234, 0.2) 0%, #000 90%);
    box-shadow: inset 0 0 60px #581c87;
}

/* Electric */
.vfx-kaminari {
    background: #000;
    border: 2px solid #eab308;
    box-shadow: 0 0 20px #eab308;
}

@keyframes bg-pulse-orange {
    from { box-shadow: inset 0 0 20px #f97316; }
    to { box-shadow: inset 0 0 60px #f97316; }
}